<!DOCTYPE html>
<html>
<head>
    <title>Map of India</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
        #map { height: 600px; }
    </style>
</head>
<body>
    <form method="post" action="{% url 'logout' %}">
        {% csrf_token %}
        <button>Logout</button>
    </form>

<div id="map"></div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
    var map = L.map('map').setView([20, 77], 5);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    var southWest = L.latLng(8.4, 68.7),
        northEast = L.latLng(37.6, 97.35),
        bounds = L.latLngBounds(southWest, northEast);

    map.setMaxBounds(bounds);
    map.on('drag', function() {
        map.panInsideBounds(bounds, { animate: false });
    });
    map.on('dragend', function() {
        map.panInsideBounds(bounds, { animate: true });
    });

    // You'll need to replace these hardcoded values with actual data from Django
    var locations = [
    {% for location in locations %}
        { "name": "{{ location.camp_name }}", "latitude": {{ location.lattitude }}, "longitude": {{ location.longitude }} }{% if not forloop.last %},{% endif %}
    {% endfor %}
    ];

    locations.forEach(function(location) {
        L.marker([location.latitude, location.longitude]).addTo(map)
            .bindPopup(location.name);
    });
</script>

</body>
</html>
